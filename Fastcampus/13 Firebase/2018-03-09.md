# Today I Learned

## Webpack 특강

### 1. Webpack은 무엇인가? 왜 쓰는 것인가?

웹팩은 자바스크립투부터 출발해서 그 파일 안에서 import나 require문이 있는지 없는지 확인한 뒤에, 그 문장을 보고 파일 간의 의존성을 확인하는 모듈 번들러이다. 웹팩의 출발점은 자바스클비트이다. 반면 parcel은 시작점이 html 파일이다.

아직 구동 환경에 내장되지 않은 import, require 기능을 활용할 수 있게 만들어준 도구가 Webpack이다.

rollup이라는 모듈 번들러도 있고, 이것이 웹팩에 많은 영향을 끼친 모듈 번들러이다.

회사에 가면 필요에 의해서 CRA를 커스터마이징해야하는 일이 생기고, 이젝트하면 거기서 여러가지 설정들이 튀어나오는데, 크리에이트리액트앱을 커스터마이징하거나 혹은 0부터 쌓여 올려진 웹팩 설정파일을 수정할일이 간혹 새길 것이다. 프론트엔드 중급 지식을 배우고 싶다면 웹팩 공식문서를 쭉 일어나가면 좋을 것이다.

At its core, *webpack* is a *static module bundler* 

(코드를 실행시키지 않고 의존성 그래프를 보고 파일을 합친다는 의미에서 static이라는 단어를 사용한 것 같다.)

### 2. 모듈 번들링

#### Loaders

css를 import한다거나, 이미지 파일을 import한다는거나 그런 것들을 가능케하는 확장 플러그인. 자바스크립트 파일말고 다른 파일들도 모듈에 포함시킬수 있도록 만들어주는 패키지.

#### Plugin

웹팩에 잡다한 기능을 플러그인으로 붙일 수 있다.



node_modules/.bin 여기서 ls 쳐보면 나오는 것들이 있는데

이것이 바로 이 해당 프로젝트의 노드 모듈스 안에서 실행가능한 명령들이 여기에 있음.

cd ../.. 으로 상위폴더의 상위 폴더로 이동할 수 있다.



```
npx webpack --config webpack.config.js
```

컨피그 옵션 설정을 안주면 기본 설정 파일에 설정파일이 있겟거니 하고 생각하고 실행을 해서 컨피그 옵션을주나안주나 똑같이 동작한다.

이 똑같은 동작을 패키지제이슨 스크립트명령에서 똑같이 할 수 있다.

스크립트 명령은 node_modules/.bin/ 여기에 있는 명령을 실행시켜주는 것이다.

css 로더로 불러들인것도 css 문자열도 자바스크립트를 사용한단. 자바스크립트를 통해서 스타일 태그를 생성한 뒤에 html에 넣는다.

### 3. Webpack 튜토리얼

### 4. CRA + CSS Module + Sass 



리액트에서 스타일링을 하는 양대부류가 있는데 하나는 CSS Module(CSS 파일을 사용함. 사용하되 좀더 선택적인 스타일을 적용할 수있도록해주는 기법). 또하나는 우리가 써봣던 styled-components와 같은 부류(스타일 코딩을 자바스크립트 파일 안에 하는 것). 스타일 코드를 css 파일안에 둘것인지. 자바스크립트 파일 안에 둘것인지.

css를 자바스크립트 파일안에 두는 기법을 통틀어서 CSS -in-JS라고한다. 여기에는 정말 많은 종류가 있다.라듐., 이모션스. 글래머. 글래머런스? 그 중에 가장 유명한게 styled-components

스타일드컴포넌트를 안쓴다하면 BEM을 쓰는등의 방법으로 사용하게 될 것이다.



css 안에서 클래스이름을 여러종류를 쓰게 될텐데 다른 파일에서도 똑같은 클래스명을 쓰게될수도 있다. 그래서 BEM을 쓰는데 이건 사람이 노력하는 것이다. 스코프 분리를 사람의 손가락을 이용해서 한다. 우아한 방식은 아니다. css 모듈이라는 도구가 내가 쓴 클래스이름에 랜덤 문자열을 추가해서 자동으로 바꿔준다. 그래서 개발도 편하고 스코프 분리도 되고 여러가지 장점이 생긴다.



웹팩 설정파일을 두개로 나누너ㅗㄴ거. 하나는 개발용 설정파일(npm run start) 하나는 npm run build 했을 때 설정 파일.

npm start하고 나서 저장하면 자동으로 새로곷미이 되는데 그게 config.dev.js에 설정되어있는거. 그런걸 분리하기위해서 파일을 2개로 나눠놓은 것이다.



css in js는 대개 리액트 네이티브에도 쓸 수 있도록 만들어져있다. 하지만 css 모듈도 여전히 많이 쓰이고 있다. 그래서 공부할 필요가 있다. 보통 css 모듈은 sass랑 연동해서 쓴다.